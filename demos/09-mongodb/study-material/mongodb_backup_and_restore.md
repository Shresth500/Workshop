
# **MongoDB Backup and Restore Using `mongodump` and `mongorestore`**

In this guide, we will learn how to back up and restore MongoDB databases using **`mongodump`** and **`mongorestore`**. These tools are provided by MongoDB to create **binary backups** of databases and restore them when needed.

---

## **1. `mongodump`: Backing Up MongoDB Data**

The **`mongodump`** command is used to **export or back up** a MongoDB database or collection into a binary format (BSON). This can be useful for creating backups of your data.

### **Syntax of `mongodump`**:
```bash
mongodump --uri="mongodb://<host>:<port>" --db=<database_name> --out=<backup_directory>
```

### **Example**:
```bash
mongodump --uri="mongodb://localhost:27017" --db=shop --out=/backup/shop_backup
```

- **`--uri`**: Specifies the MongoDB instance's connection string.
- **`--db`**: The database to be backed up (in this case, `shop`).
- **`--out`**: The directory where the backup will be saved (e.g., `/backup/shop_backup`).

After running this command, a folder named `shop_backup` will be created containing a BSON file for each collection in the `shop` database.

---

## **2. `mongorestore`: Restoring MongoDB Data**

The **`mongorestore`** command is used to **restore** data from a backup created using `mongodump`. It reads the **BSON files** generated by `mongodump` and restores them to the specified MongoDB instance.

### **Syntax of `mongorestore`**:
```bash
mongorestore --uri="mongodb://<host>:<port>" --db=<database_name> <backup_directory>/<database_name>
```

### **Example**:
```bash
mongorestore --uri="mongodb://localhost:27017" --db=shop /backup/shop_backup/shop
```

- **`--uri`**: Specifies the MongoDB instance's connection string.
- **`--db`**: The target database (in this case, `shop`).
- **`<backup_directory>/<database_name>`**: The path to the backed-up database.

---

## **Additional Options for `mongodump` and `mongorestore`**

### **1. Dumping a Specific Collection**:
```bash
mongodump --uri="mongodb://localhost:27017" --db=shop --collection=products --out=/backup/shop_backup
```

### **2. Restoring a Specific Collection**:
```bash
mongorestore --uri="mongodb://localhost:27017" --db=shop --collection=products /backup/shop_backup/shop/products.bson
```

### **3. Using Authentication**:
If your MongoDB instance requires authentication, include `--username` and `--password` options.

```bash
mongodump --uri="mongodb://localhost:27017" --username=admin --password=secret --db=shop --out=/backup/shop_backup
```

---

## **Conclusion**

- **`mongodump`** creates backups of databases or specific collections in BSON format.
- **`mongorestore`** restores these backups to the specified MongoDB instance.

Both tools are essential for **data migration** and **disaster recovery** in MongoDB environments. Make sure to schedule regular backups using `mongodump` to protect your data and use `mongorestore` when you need to recover it.
